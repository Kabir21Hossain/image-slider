<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced Image Slider With Thumbnail</title>
  <link rel="stylesheet" href="/src/output.css">

  <style>

      body{
        background-color:rgba(42, 92, 167, 0.619);
        min-height: 100vh;
        display:flex;
        justify-content: center;
        align-items:center;
        margin:0px;

      }

      .slider{
        width:80%;
        max-width:800px;
        overflow:hidden;
        border-radius:10px;
        position:relative;

      }

      .slides{
        display:flex;
        transition:transform 0.3s ease-in-out;
        
      }

      .slides img{
        width:100%;
        flex-shrink: 0;
      }

      .slider button{
        background-color: #bbb;
        padding:10px;
        border:none;
        border-radius:5px;
        font-size:20px;
        color:rgba(11, 39, 91, 0.687);
        position:absolute;
        top:50%;
        transform:translateY(-50%);
        cursor:pointer;
      }

      .prev{
        left:10px;

      }

      .next{
        right:10px;
      }

      .slider button:hover{
        background-color: aliceblue;
      }

      .dots{
        width:100%;
        text-align:center;
        position:absolute;
        bottom:10px;
      }

      .dot{
        width:10px;
        height:10px;
        border-radius:50%;
        background-color:#1003034e;
        display:inline-block;
        cursor:pointer;
        margin:5px;

      }

      .dot.active{
        background-color: white;
        opacity: 1;

      }

      .counter{
        position:absolute;
        top:10px;
        right:15px;
        color:white;
        font-weight:bold;

      }
      
      .thumbnails{
        margin-top:10px;
        display:flex;
        gap:6px;
        justify-content: center;
      }

      .thumbnails img{
        width:60px;
        height:40px;
        object-fit:cover;
        cursor:pointer;
        opacity:0.6;
        border-radius:5px;

      }

      .thumbnails img.active-thumb{
        opacity:1;
        outline:2px solid white;
      }

    
  </style>

</head>
<body>
  <div>
    <div class="slider" id="slider">

      <!-- slides -->
      <div class="slides" id="slides">
        <img src="/images/sea_image.jpg" alt="sea">
        <img src="/images/hill_image2.jpg" alt="hill">
        <img src="/images/last_image.jpg" alt="dog">
        <img src="/images/alone_image4.jpg" alt="person">
      </div>

      <!-- prev and next button -->
      <button class="prev" onclick="prevSlide()">&lt;</button>
      <button class="next" onclick="nextSlide()"> &gt;</button>

      <!-- counter -->
      <p class="counter" id="counter"></p>

      <!-- dotsContainer -->
      <div class="dots" id="dots"></div>

      


    </div>
    <div class="thumbnails" id="thumbnails"></div>
  </div>

  <script>
    const slider=document.getElementById("slider");
    const slides=document.getElementById("slides");
    const dots=document.getElementById("dots");
    const counter=document.getElementById("counter");
    const thumbnails=document.getElementById("thumbnails");

    const images=slides.children;
    const total=images.length;
    
    let index=0;
    let interval;

    for(let i =0 ;i <total;i++){
      let dot=document.createElement("span");
      dot.classList.add("dot");
      dot.onclick=()=>goToSlide(i);
      dots.appendChild(dot);

      const thumb=images[i].cloneNode();
      thumbnails.appendChild(thumb);

      thumb.onclick=()=>goToSlide(i);

    }

    function updateThumb(){
      document.querySelectorAll(".thumbnails img").forEach((image,i)=>{
        image.classList.toggle("active-thumb",i===index);
      })
    }

    function updateDots(){
      document.querySelectorAll(".dot").forEach((dot,i)=>{
        dot.classList.toggle("active",i===index);
      });
    }

    function updateSlider(){
      slides.style.transform=`translateX(-${index*100}%)`;
      updateDots();
      counter.textContent = `${index + 1} / ${total}`;
      updateThumb();


      
    }

  function goToSlide(i){
    index=i;
    updateSlider();

  }

  function nextSlide(){
    index=(index+1)%total;
    updateSlider();

  }

  function prevSlide(){
    index=(index-1+total)%total;
    updateSlider();

  }

  function startAutoSlide(){
    interval=setInterval(nextSlide,2000);

  }

  function stopAutoSlide(){
    clearInterval(interval);
  }
  
  slider.addEventListener("mouseenter",stopAutoSlide);
  slider.addEventListener("mouseleave",startAutoSlide);

  
  updateSlider();
  startAutoSlide();

  </script>
</body>
</html>